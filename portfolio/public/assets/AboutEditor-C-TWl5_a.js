import{c as f,r as i,a as m,j as e,B as c}from"./index-YngF7MCl.js";import{P as p}from"./plus-CUGnRd_t.js";import{S as N}from"./save-pncSXTTC.js";const w=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],v=f("trash",w),A=()=>{const[l,r]=i.useState({heading:"",overview:"",stats:[],values:[]}),[g,b]=i.useState(!0);i.useEffect(()=>{j()},[]);const j=async()=>{try{const s=await m.get("/about");s.data.data&&r(s.data.data)}catch(s){console.error(s)}finally{b(!1)}},y=async s=>{s.preventDefault();try{await m.put("/about",l),alert("About Us updated successfully!")}catch(a){alert("Failed to update: "+a.message)}},u=s=>{r({...l,[s.target.name]:s.target.value})},d=(s,a,t,o)=>{const n=[...l[o]];n[s]={...n[s],[a]:t},r({...l,[o]:n})},x=(s,a)=>{r({...l,[s]:[...l[s],a]})},h=(s,a)=>{const t=l[a].filter((o,n)=>n!==s);r({...l,[a]:t})};return g?e.jsx("div",{children:"Loading..."}):e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Edit 'About Us'"}),e.jsxs("form",{onSubmit:y,className:"space-y-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Core Content"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Heading"}),e.jsx("input",{name:"heading",className:"w-full mt-1 px-4 py-2 border rounded-lg",value:l.heading,onChange:u})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Overview"}),e.jsx("textarea",{name:"overview",rows:4,className:"w-full mt-1 px-4 py-2 border rounded-lg",value:l.overview,onChange:u})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Statistics (Key Metrics)"}),e.jsxs(c,{type:"button",size:"sm",variant:"secondary",onClick:()=>x("stats",{value:"",label:""}),children:[e.jsx(p,{size:16})," Add Stat"]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:l.stats.map((s,a)=>e.jsxs("div",{className:"p-4 border rounded-lg relative bg-gray-50",children:[e.jsx("button",{type:"button",onClick:()=>h(a,"stats"),className:"absolute top-2 right-2 text-red-500",children:e.jsx(v,{size:16})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{placeholder:"Value (e.g. 150+)",className:"w-full px-2 py-1 border rounded",value:s.value,onChange:t=>d(a,"value",t.target.value,"stats")}),e.jsx("input",{placeholder:"Label (e.g. Architects)",className:"w-full px-2 py-1 border rounded",value:s.label,onChange:t=>d(a,"label",t.target.value,"stats")})]})]},a))})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Corporate Values"}),e.jsxs(c,{type:"button",size:"sm",variant:"secondary",onClick:()=>x("values",{title:"",description:"",icon:"Shield"}),children:[e.jsx(p,{size:16})," Add Value"]})]}),e.jsx("div",{className:"space-y-4",children:l.values.map((s,a)=>e.jsxs("div",{className:"p-4 border rounded-lg relative flex gap-4 bg-gray-50",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("input",{placeholder:"Title",className:"flex-1 px-3 py-2 border rounded",value:s.title,onChange:t=>d(a,"title",t.target.value,"values")}),e.jsxs("select",{className:"px-3 py-2 border rounded",value:s.icon,onChange:t=>d(a,"icon",t.target.value,"values"),children:[e.jsx("option",{value:"Shield",children:"Shield"}),e.jsx("option",{value:"Zap",children:"Zap"}),e.jsx("option",{value:"Users",children:"Users"}),e.jsx("option",{value:"Globe",children:"Globe"})]})]}),e.jsx("textarea",{placeholder:"Description",className:"w-full px-3 py-2 border rounded",rows:2,value:s.description,onChange:t=>d(a,"description",t.target.value,"values")})]}),e.jsx("button",{type:"button",onClick:()=>h(a,"values"),className:"text-red-500 self-center",children:e.jsx(v,{size:20})})]},a))})]}),e.jsx("div",{className:"sticky bottom-6 flex justify-end",children:e.jsxs(c,{type:"submit",variant:"primary",className:"shadow-lg flex items-center gap-2",children:[e.jsx(N,{size:20})," Save Changes"]})})]})]})};export{A as default};
