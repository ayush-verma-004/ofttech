import{r as i,a as n,j as e,B as c,C as y}from"./index-D6a-1QXO.js";import{P as N}from"./plus-D3YzvhRM.js";import{P as S,T as w}from"./trash-2-Bzk-s_jk.js";const T=()=>{const[d,m]=i.useState([]),[o,l]=i.useState("LIST"),[h,g]=i.useState(null),[p,v]=i.useState(!0),x={title:"",description:"",icon:"Globe",tag:"Verification: Active",order:0},[t,a]=i.useState(x);i.useEffect(()=>{u()},[]);const u=async()=>{try{const s=await n.get("/services");m(s.data.data.sort((r,f)=>r.order-f.order))}catch(s){console.error(s)}finally{v(!1)}},b=async s=>{s.preventDefault();try{o==="NEW"?await n.post("/services",t):await n.put(`/services/${h._id}`,t),await u(),l("LIST")}catch(r){alert("Failed: "+r.message)}},j=async s=>{if(window.confirm("Remove this service?"))try{await n.delete(`/services/${s}`),m(d.filter(r=>r._id!==s))}catch{alert("Error deleting service")}};return p?e.jsx("div",{children:"Loading..."}):o==="LIST"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Services Engine"}),e.jsxs(c,{onClick:()=>{a(x),l("NEW")},variant:"primary",className:"flex items-center gap-2",children:[e.jsx(N,{size:18})," Add Service"]})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(s=>e.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-all group relative",children:[e.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>{a(s),g(s),l("EDIT")},className:"p-1.5 bg-gray-100 rounded hover:bg-secondary hover:text-white transition-colors",children:e.jsx(S,{size:16})}),e.jsx("button",{onClick:()=>j(s._id),className:"p-1.5 bg-gray-100 rounded hover:bg-red-500 hover:text-white transition-colors",children:e.jsx(w,{size:16})})]}),e.jsx("div",{className:"w-10 h-10 bg-secondary/10 rounded-lg flex items-center justify-center text-secondary mb-4",children:e.jsx("span",{className:"font-bold text-xs",children:s.icon})}),e.jsx("h3",{className:"font-bold text-lg mb-2",children:s.title}),e.jsx("p",{className:"text-sm text-gray-500 mb-4 h-10 overflow-hidden",children:s.description}),e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-400 font-medium uppercase tracking-wider",children:[e.jsx(y,{size:12,className:"text-secondary"}),s.tag]})]},s._id))})]}):e.jsxs("div",{className:"max-w-xl mx-auto",children:[e.jsx("h2",{className:"text-xl font-bold mb-6",children:o==="NEW"?"Add Service":"Edit Service"}),e.jsxs("form",{onSubmit:b,className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Service Title"}),e.jsx("input",{className:"w-full px-4 py-2 border rounded-lg",required:!0,value:t.title,onChange:s=>a({...t,title:s.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),e.jsx("textarea",{className:"w-full px-4 py-2 border rounded-lg",required:!0,rows:3,value:t.description,onChange:s=>a({...t,description:s.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Icon Name"}),e.jsxs("select",{className:"w-full px-4 py-2 border rounded-lg",value:t.icon,onChange:s=>a({...t,icon:s.target.value}),children:[e.jsx("option",{value:"Globe",children:"Globe"}),e.jsx("option",{value:"Cloud",children:"Cloud"}),e.jsx("option",{value:"Settings",children:"Settings"}),e.jsx("option",{value:"Shield",children:"Shield"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status Tag"}),e.jsx("input",{className:"w-full px-4 py-2 border rounded-lg",value:t.tag,onChange:s=>a({...t,tag:s.target.value})})]})]}),e.jsxs("div",{className:"pt-4 flex gap-3 justify-end",children:[e.jsx(c,{type:"button",variant:"secondary",onClick:()=>l("LIST"),className:"bg-gray-100 text-gray-700",children:"Cancel"}),e.jsx(c,{type:"submit",variant:"primary",children:"Save Service"})]})]})]})};export{T as default};
